name: Selecionar o ambiente para iniciar a Pipeline
on: 
    workflow_dispatch:  
      inputs:
        ambiente:
          type: choice
          default: "aws"
          required: true
          description: "Ambiente aonde ser√° feito o deploy"  
          options:
            - aws
            - azure
            - gcp 
jobs:
    CI:
        runs-on: ubuntu-latest
        steps:
            - name: Ambiete
              run: "echo Abiente selecionado : ${{ inputs.ambiente }}"    
    AWS:
      uses: wallafi01/multiplos-providers/.github/workflows/1-aws-apply.yml@main
      with:
        ambiente: ${{ inputs.ambiente }}        
    AZURE:
      uses: wallafi01/multiplos-providers/.github/workflows/2-azure-cd.yml@main
      with:
        ambiente: ${{ inputs.ambiente }}              
    GCP:
      uses: wallafi01/multiplos-providers/.github/workflows/3-gcp-cd.yml@main
      with:
        ambiente: ${{ inputs.ambiente }}                      